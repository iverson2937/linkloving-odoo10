<?xml version="1.0" encoding="UTF-8"?>

<templates xml:space="preserve">
    <t t-name="bom_wraper">
        <div class="panel-group" id="accordion">

        </div>
    </t>

    <t t-name="bom_tree">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#accordion" t-att-href="'#'+result.uuid" class="click_bom_tag_a">
                        <t t-if="result.bom_ids.length>0">
                            <span class="fa fa-caret-right open-sign"></span>
                        </t>
                    </a>
                    <span><t t-esc="result.name"/></span>
                </h4>
            </div>

            <div t-att-id="result.uuid" class="panel-collapse collapse">
                <div class="panel-body">
                    <t t-foreach="result.bom_ids" t-as="item">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a data-toggle="collapse" t-att-href="'#'+item.uuid" class="click_bom_tag_a">
                                        <t t-if="item.bom_ids.length>0">
                                            <span class="fa fa-caret-right open-sign"></span>
                                        </t>
                                    </a>
                                    <t t-esc="item.name"/>
                                </h4>
                            </div>
                            <div t-att-id="item.uuid" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <t t-if="item.bom_ids.length>0">
                                        <t t-foreach="item.bom_ids" t-as="items">
                                            <t t-call="more">
                                                <t t-set="arg" t-value="items"/>
                                            </t>
                                        </t>
                                    </t>
                                </div>
                            </div>
                        </div>
                    </t>
                </div>
            </div>
        </div>
    </t>

    <t t-name="more">
         <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <a data-toggle="collapse" t-att-href="'#'+arg.uuid" class="click_bom_tag_a">
                        <t t-if="arg.bom_ids.length>0">
                            <span class="fa fa-caret-right open-sign"></span>
                        </t>
                    </a>
                    <t t-esc="arg.name"/>
                </h4>
            </div>
            <div t-att-id="arg.uuid" class="panel-collapse collapse">
                <div class="panel-body">

                    <t t-if="arg.bom_ids.length>0">
                        <t t-foreach="arg.bom_ids" t-as="items">
                            <t t-call="more">
                                <t t-set="arg" t-value="items"/>
                            </t>
                        </t>
                    </t>
                </div>
            </div>
         </div>
    </t>
</templates>