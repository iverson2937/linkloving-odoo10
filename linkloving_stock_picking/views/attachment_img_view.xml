<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <template id="order_status_show" name="orderstatus" page="True">


            <html>

                <head>
                    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
                    <meta charset="utf-8"/>
                    <meta http-equiv="pragma" content="no-cache"/>
                    <meta http-equiv="cache-control" content="no-cache"/>
                    <meta http-equiv="expires" content="0"/>
                    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>

                    <!--<script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>-->

                    <title>
                        订单确认
                    </title>

                    <script language="javascript">


                        window.onload = function(){

                        var current = 0;

                        document.getElementById('target').onclick = function(){

                        current = (current+90)%360;

                        this.style.transform = 'rotate('+current+'deg)';
                        }

                        console.log(document.getElementById('span_list_ids').value)

                        var array = eval ("(" + document.getElementById('span_list_ids').value+ ")");
                        var num_list=array.indexOf(parseInt($('#target').attr("selfs")));


                        document.getElementById('as_next').onclick = function(){

                        if(num_list==(array.length-1)){
                        num_list=0;}
                        else{
                        num_list+=1}
                        document.getElementById('target').setAttribute('src','/web/image/'+array[num_list])
                        }


                        document.getElementById('as_previous').onclick = function(){

                        if(num_list==0){
                        num_list=array.length-1;}
                        else{
                        num_list-=1}
                        document.getElementById('target').setAttribute('src','/web/image/'+array[num_list])
                        }


                        };


                        function bigimg(i)
                        {
                        var zoom = parseInt(i.style.zoom,10)||100;
                        zoom += event.wheelDelta / 12;
                        if(zoom > 0 )
                        i.style.zoom=zoom+'%';
                        return false;
                        }


                    </script>

                    <link rel="stylesheet"
                          href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css"/>
                    <script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
                    <script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>


                </head>

                <body>
                    <div>
                        <div style="height:20px;weight:100%;">
                            <!--<a href="javascript:history.go(-2);">返回上一页</a>-->
                        </div>
                        <div>
                            <center>
                                <img id="target" t-attf-selfs="{{ transaction }}"
                                     t-attf-src="/web/image/{{ transaction }}" border="1"
                                     onmousewheel="return bigimg(this)"/>
                            </center>

                        </div>

                        <!--<ul class="pager">-->
                        <!--<li class="previous">-->
                        <!--<a href="#">Older</a>-->
                        <!--</li>-->
                        <!--<li class="next">-->
                        <!--<a href="#">Newer</a>-->
                        <!--</li>-->
                        <!--</ul>-->

                        <ul class="pager">
                            <li>
                                <a id="as_previous" href="#">上一页</a>
                            </li>
                            <li>
                                <a id="as_next" href="#">下一页</a>
                            </li>
                        </ul>

                        <input type="hidden" t-attf-value="#{list_ids}" id="span_list_ids"/>

                    </div>

                </body>
            </html>

        </template>
    </data>
</openerp>