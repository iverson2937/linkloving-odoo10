<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <record id="crm_view_partner_form_linkloving" model="ir.ui.view">
            <field name="name">crm form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">

                <xpath expr="//field[@name='category_id']" position="after">
                    <field name="crm_source_id" string="来源" attrs="{'invisible': [('customer','!=', True)]}"
                           options="{'no_create':True}"/>
                    <field name="public_partners" invisible="1"/>
                    <field name="old_user_id" invisible="1"/>
                </xpath>

                <!--<xpath expr="//field[@name='category_id']" position="attributes">-->
                <!--<attribute name="required">True</attribute>-->
                <!--</xpath>-->

                <xpath expr="//field[@name='crm_source_id']" position="after">
                    <field name="customer_status" options="{'no_create':True}"
                           attrs="{'invisible':[('customer','=', False)]}"/>
                </xpath>

                <xpath expr="//field[@name='customer_status']" position="after">
                    <field name="is_order" attrs="{'invisible':[('customer','=', False)]}"/>
                </xpath>


                <xpath expr="//form/sheet/notebook/page/field[@name='child_ids']/form/sheet/group/group/div/div/field[@name='country_id']"
                       position="after">
                    <field name="detailed_address"/>
                </xpath>

                <!--创建联系人 di第一栏-->
                <xpath expr="//form/sheet/notebook/page/field[@name='child_ids']/form/sheet/group/group/field[@name='comment']"
                       position="after">
                    <field name="whatsapp"/>
                </xpath>
                <xpath expr="//form/sheet/notebook/page/field[@name='child_ids']/form/sheet/group/group/field[@name='whatsapp']"
                       position="after">
                    <field name="wechat"/>
                </xpath>
                <xpath expr="//form/sheet/notebook/page/field[@name='child_ids']/form/sheet/group/group/field[@name='wechat']"
                       position="after">
                    <field name="skype"/>
                </xpath>
                <xpath expr="//form/sheet/notebook/page/field[@name='child_ids']/form/sheet/group/group/field[@name='skype']"
                       position="after">
                    <field name="qq"/>
                </xpath>

                <!--zuo-->
                <xpath expr="//field[@name='country_id']" position="after">
                    <field name="continent" placeholder="大洲"/>
                </xpath>

                <xpath expr="//field[@name='category_id']" position="after">
                    <field name="express_sample_record"/>
                </xpath>

                <!--you-->
                <xpath expr="//field[@name='lang']" position="after">
                    <field name="qq" invisible="1"/>
                </xpath>

                <xpath expr="//field[@name='qq']" position="after">
                    <field name="skype" invisible="1"/>
                </xpath>

                <xpath expr="//field[@name='skype']" position="after">
                    <field name="whatsapp" invisible="1"/>
                </xpath>

                <xpath expr="//field[@name='whatsapp']" position="after">
                    <field name="wechat" invisible="1"/>
                </xpath>

                <xpath expr="//field[@name='wechat']" position="after">
                    <field name="communication_identifier" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='lang']" position="after">
                    <field name="priority" widget="priority" attrs="{'invisible':[('customer','=', False)]}"
                    />
                </xpath>

                <xpath expr="//page[@name='accounting_disabled']" position="after">
                    <page string="产品" attrs="{'invisible': True}">
                        <field name="interested_in_product" domain="[('sale_ok','=',True)]"
                               context="{'search_default_rteng':1,'search_default_filter_categ_id':1}"/>
                    </page>

                    <page string="产品">
                        <field name="product_series_ids" widget="crm_tree_list_js" attrs="">
                            <tree string="产品系列" default_order="crm_product_type" create="0">
                                <field name="crm_product_type"/>
                                <field name="name"/>
                                <field name="detail"/>
                                <field name="crm_Parent_id"/>
                                <field name="crm_Parent_ontomany_ids"/>
                            </tree>
                        </field>
                        <button string="添加型号" name="action_tree_list_view_res" type="object" class="btn-primary"
                                groups=""/>
                    </page>

                </xpath>


                <!--<xpath expr="//page[@name='sales_purchases']/group/group/field[@name='user_id']" position="attributes">-->
                <!--<attribute name="string">负责人</attribute>-->
                <!--</xpath>-->


                <xpath expr="//div[@name='button_box']" position="inside">
                    <button type="object"
                            name="action_view_question_order"
                            context="{'sale_type': 'question'}"
                            class="oe_stat_button"
                            icon="fa-commenting-o">
                        <field name="order_partner_question_count" widget="statinfo" string="问题概览"/>
                    </button>

                    <button type="object"
                            name="action_view_partner_img"
                            class="oe_stat_button"
                            icon="fa-photo fa-image fa-picture-o">
                        <field name="partner_img_count" widget="statinfo" string="客户照片"/>
                    </button>

                </xpath>


            </field>
        </record>


        <record id="linkloving_view_partner_tree_sale" model="ir.ui.view">
            <field name="name">res.partner.tree.sale</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_tree"/>
            <field name="arch" type="xml">

                <xpath expr="//tree" position="attributes">
                    <attribute name="default_order">write_date desc</attribute>
                </xpath>
                <xpath expr="//field[@name='display_name']" position="after">
                    <field name="website"/>
                    <field name="priority" widget="priority_star"/>
                    <field name="country_id"/>
                    <field name="customer_status"/>
                    <field name="user_id"/>
                    <field name="is_order"/>
                </xpath>

            </field>
        </record>


        <record id="mail.view_emails_partner_info_form" model="ir.ui.view">
            <field name="name">res.partner.emails.info.inherit</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='user_id']" position="after">
                    <field name='notify_email' widget="radio" groups="base.group_no_one"/>
                    <field name="opt_out" string="Mailing Opt-Out" groups="base.group_no_one"/>
                    <field name="message_bounce" groups="base.group_no_one"/>
                </xpath>
                <xpath expr="//sheet" position="after">
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_threads" options='{"thread_level": 1}'/>
                    </div>
                </xpath>


                <!--<xpath expr="//page[@name='sales_purchases']/group/group/field[@name='user_id']" position="replace">-->
                <!--<field name="user_id"-->
                <!--context="{'default_groups_ref': ['base.group_user', 'base.group_partner_manager', 'project.group_project_user']}"/>-->
                <!--</xpath>-->


            </field>
        </record>


        <record id="crm_view_res_partner_filter_assign" model="ir.ui.view">
            <field name="name">crm.res.partner.geo.inherit.search</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_res_partner_filter"/>
            <field name="arch" type="xml">
                <xpath expr="//group[@name='group_by']/filter[@name='salesperson']" position="after">
                    <filter string="销售团队" name="team_id" context="{'group_by' : 'team_id'}" domain="[]"/>
                    <filter string="客户星级" name="priority" context="{'group_by' : 'priority'}" domain="[]"/>
                </xpath>

            </field>
        </record>


        <record id="crm_view_document_file_kanban_img" model="ir.ui.view">
            <field name="name">ir.attachment kanban crm</field>
            <field name="model">ir.attachment</field>
            <field name="inherit_id" ref="mail.view_document_file_kanban"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='name']" position="after">
                    <field name="res_name" invisible="1"/>
                    <field name="partner_img_id" invisible="1"/>
                </xpath>

            </field>
        </record>


    </data>
</openerp>