<odoo>
    <data>
        <!-- INHERITED FORM -->
        <record id="product_template_form_inherit" model="ir.ui.view">
            <field name="name">product.template.form.inherit</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_only_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='categ_id']" position="replace">

                </xpath>


                <xpath expr="//field[@name='default_code']" position="before">
                    <field name="categ_id" options="{'no_create':True}"
                           groups="linkloving_product.group_product_manager"/>
                    <field name="sub_spec_id" options="{'no_create':True}"
                           domain="[('is_sub','=',True),('categ_id','=',categ_id)]"
                           groups="linkloving_product.group_product_manager"/>
                    <field name="spec_id" options="{'no_create':True}"
                           domain="[('is_sub','=',False),'|',('categ_id','=',False),('categ_id','=',categ_id)]"
                           groups="linkloving_product.group_product_manager"/>
                    <field name="partner_id" options="{'no_create':True}"
                           groups="linkloving_product.group_product_manager"/>
                </xpath>

            </field>
        </record>

        <odoo>
            <data>
                <record id="new_product_form_wizard" model="ir.ui.view">
                    <field name="name">product.product</field>
                    <field name="model">product.product</field>
                    <field name="arch" type="xml">
                        <form class="MySteps">
                            <sheet>
                                <div class="oe_title">
                                    <label class="oe_edit_only" for="name" string="产品名称"/>
                                    <h1>
                                        <field name="name" placeholder="产品名称"/>
                                    </h1>
                                </div>
                                <div class="step_navs">
                                    <div class="step_nav1 active_step">1.确定物料类型
                                        <span class="arrow"></span>
                                    </div>
                                    <div class="step_nav2">2.生成料号 ⇒</div>
                                    <div class="step_nav3">3.完善其他信息 ⇒</div>
                                    <div class="step_nav4">4.完成</div>
                                </div>
                                <div class="step1">
                                    <h5>请确认该产品的物料类型</h5>
                                    <field name="product_ll_type"/>
                                </div>
                                <div class="step2">
                                    <h5>请确认该产品的购销属性</h5>
                                    <group>
                                        <field name="purchase_ok"/>
                                        <field name="sale_ok"/>
                                    </group>

                                </div>
                                <div class="step3">
                                    <group>
                                        <field name="default_code" readonly="1" string="料号"/>
                                        <field name="categ_id" options="{'no_create':True}"/>
                                        <field name="sub_spec_id" options="{'no_create':True}"/>
                                        <field name="spec_id" options="{'no_create':True}"/>
                                        <field name="partner_id" options="{'no_create':True}"/>
                                    </group>

                                </div>
                                <group class="step4">
                                    <group>
                                        <field name="order_ll_type"
                                               attrs="{'invisible': [('product_ll_type', '!=', 'finished')],'required':[('product_ll_type', '=', 'finished')]}"/>
                                        <field name="inner_code"/>
                                        <field name="inner_spec"/>
                                        <field name="product_specs"/>

                                    </group>
                                    <group>
                                        <field name="standard_price"/>
                                        <field name="uom_id" options="{'no_create':True}"/>
                                        <field name="uom_po_id" options="{'no_create':True}"/>
                                        <field name="purchase_method"/>
                                    </group>

                                </group>

                                <footer>
                                    <span class="oe_highlight pre_step">上一步</span>
                                    <span class="btn-primary next_step">下一步</span>
                                    <button class="oe_highlight" name="save" string="保存"/>
                                </footer>
                                <script type="text/javascript" src="/linkloving_product/static/src/js/check_form.js"/>
                            </sheet>
                        </form>

                    </field>
                </record>
            </data>
        </odoo>
    </data>
</odoo>