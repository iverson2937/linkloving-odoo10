<?xml version="1.0" encoding="UTF-8"?>
<templates>

    <!--
        Chatter composer
    -->
    <t t-name="sale.mail.chatter.ChatComposer" t-extend="mail.ChatComposer">


        <t t-jquery=".o_composer_input" t-operation="replace">
            <div class="row row_sale_anticipated_loss" style="margin-top:10px">
                <div class="col-xs-2">
                    <strong>实际损失:</strong>
                </div>
                <div class="col-xs-3">
                    <input class="sale_anticipated_loss" type="number" placeholder="预计损失"/>
                </div>
            </div>
        </t>


        <!-- Insert information before the composer -->
        <t t-jquery=".o_composer_attachments_list" t-operation="before">
            <!-- Internal note composer -->
            <t t-if="widget.options.is_log">
                <span class="o_chatter_composer_info">
                    Log an internal note which will not be sent to followers, but which can be read
                    by users accessing this document.
                </span>
            </t>
            <!-- New message composer -->
            <t t-if="!widget.options.is_log">
                <!-- Text for followers -->
                <span class="o_chatter_composer_info">
                    To: Followers of
                    <t t-if="widget.options.record_name">
                        &quot;<t t-esc="widget.options.record_name"/>&quot;
                    </t>
                    <t t-if="!widget.options.record_name">
                        this document
                    </t>
                </span>
                <!-- List of followers -->

                <div class="o_composer_suggested_partners">
                    <div class="js_msg_comments">

                        <input type="checkbox" class="o_chat_header_adc" name="question">
                            问题记录
                        </input>
                        <input type="checkbox" class="o_chat_header_adc" name="inspection">
                            验货报告
                        </input>

                    </div>
                    <hr/>

                    <div>
                        <div class="row row_sale_subject">
                            <div class="col-xs-2">
                                <strong>主题:</strong>
                            </div>
                            <div class="col-xs-9">
                                <input class="sale_subject" type="text"/>
                            </div>
                        </div>

                        <div class="row row_o_composer_text_field" style="margin-top:10px">
                            <div class="col-xs-2">
                                <strong>描述:</strong>
                            </div>
                            <div class="col-xs-9 o_composer_input">
                                <textarea class="o_composer_text_field" tabindex="2"
                                          placeholder="Write something..."/>
                            </div>
                        </div>

                        <div class="row row_create_person_in_charge" style="margin-top:10px">
                            <div class="col-xs-2">
                                <strong>责任方:</strong>
                            </div>
                            <div class="col-xs-9">
                                <div class="row" style="padding-left:20px;">
                                    <button class="create_person_in_charge">创建</button>
                                </div>
                                <!--<div class="row">-->
                                <!--<div class="col-xs-3">-->
                                <!--<input class="sale_person_in_charge" type="text" placeholder="责任人"/>-->
                                <!--</div>-->
                                <!--<div class="col-xs-2">-->
                                <!--<input class="sale_person_in_charge_proportion" type="number" placeholder="占比"/>-->
                                <!--</div>-->
                                <!--<div class="col-xs-1">-->
                                <!--%-->
                                <!--</div>-->
                                <!--</div>-->
                            </div>
                        </div>

                        <div class="row row_o_composer_text_field_project" style="margin-top:10px">
                            <div class="col-xs-2">
                                <strong>解决方案:</strong>
                            </div>
                            <div class="col-xs-9 o_composer_input">
                                <textarea class="o_composer_text_field_project" placeholder="解决方案"/>
                            </div>
                        </div>

                        <div class="row row_o_composer_text_field_measure" style="margin-top:10px">
                            <div class="col-xs-2">
                                <strong>后续措施:</strong>
                            </div>
                            <div class="col-xs-9 o_composer_input">
                                <textarea class="o_composer_text_field_measure" placeholder="后续措施"/>
                            </div>
                        </div>

                        <!--<div class="row" style="margin-top:10px">-->
                        <!--<div class="col-xs-2">-->
                        <!--<strong>预计损失:</strong>-->
                        <!--</div>-->
                        <!--<div class="col-xs-3">-->
                        <!--<input type="number" placeholder="预计损失"/>-->
                        <!--</div>-->
                        <!--</div>-->
                    </div>


                    <t t-foreach='widget.suggested_partners' t-as='recipient'>
                        <div t-attf-title="Add as recipient and follower (reason: #{recipient.reason})"
                             style="display:none;">
                            <input type="checkbox"
                                   t-att-checked="recipient.checked ? 'checked' : undefined"
                                   t-att-data-fullname="recipient.full_name"/>
                            <t t-esc="recipient.name"/>
                            <t t-if="recipient.email_address">(<t t-esc="recipient.email_address"/>)
                            </t>
                        </div>
                    </t>
                </div>

            </t>
        </t>
        <!-- Add a button to open the full composer dialog -->
        <t t-jquery=".o_composer_button_add_attachment" t-operation="after">
            <button tabindex="6" class="btn btn-sm btn-icon fa fa-pencil-square-o o_composer_button_full_composer"
                    type="button"/>
        </t>
    </t>


    <!--
    Chatter main div
-->
    <t t-name="sale.mail.Chatter">
        <div class="o_chatter">
            <div class="o_chatter_topbar">


                <button type="button" class="btn btn-sm btn-primary o_chatter_button_new_message"
                        title="Send a message">
                    新建消息
                </button>

            </div>
        </div>
    </t>


</templates>
